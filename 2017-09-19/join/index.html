<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Co-op</title>
    <meta name="description" content="">
    <link href="../../stylesheets/2017-09-01.css" rel="stylesheet" />

    <link href="../../images/favicon.ico" rel="icon" type="image/ico" />
  </head>
  <body>
    <nav class="skip-nav">
  <ul>
    <li><a href="#main" title="Skip to main content">Skip to content</a></li>
  </ul>
</nav>

<div class="app-content">
  <div class="content-wrapper">

    <header class="wrap header-main header-design-manual">
      <a class="coop-logo" aria-label="Homepage" href="index.html">
        <img src="../../assets/images/logos/coop-logo.svg" alt="Co-op">
      </a>
    </header>

    <main id="main" class="main">
      <article class="wrap">

        <div class="row">
          <div class="column large-12 cta-area">
            <section>
              <h2>Sign up to be a letter writer</h2>
              <p>Enter some details about yourself.</p>
              <div class="page-1">
                <form id="join-form-1" action="https://docs.google.com/a/coopdigital.co.uk/forms/d/e/1FAIpQLSdRnbjiM8MKfwBtGG2f6uYi2v-wMuDLkux6YbYhNhm8FYb28w/formResponse" method="post">
  <label for="name">Your first name</label>
  <input id="name" type="text" name="entry.1174347126" value="" required><br />

  <label for="email">Your email address</label>
  <input id="email" type="email" name="entry.929927968" value="" required><br />

  <button class="btn btn-primary" type="submit">Sign up</button>
</form>

              </div>
            </section>
          </div>
        </div>

      </article>
      <footer>
        <div class="wrap">
          <div class="row">
            <div class="column">
              <p class="copyright">Â© Co-operative Group Limited. All rights reserved.</p>
            </div>
          </div>
        </div>
      </footer>
    </main>
  </div>
</div>

<script>

function ready(fn) {
  if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading"){
    fn();
  } else {
    document.addEventListener('DOMContentLoaded', fn);
  }
}


function setupEventHandlers() {

  var inputElements = document.getElementsByTagName('input');
  for(var i = 0 ; i < inputElements.length ; ++i) {
    inputElements[i].addEventListener('focus', handleFocus);
    inputElements[i].addEventListener('blur', handleBlur);
  }

  var forms = document.getElementsByTagName('form');
  for(var i = 0 ; i < forms.length ; ++i) {
    forms[i].addEventListener('submit', handleFormSubmit);
  }
}

function handleFocus(event) {
  var clickedElement = event.target;

  ga('send', 'event', {
    eventCategory: 'Form input field',
    eventAction: 'focus',
    eventLabel: clickedElement.id  // good to make the id descriptive
  });
}

function handleBlur(event) {
  var clickedElement = event.target;

  ga('send', 'event', {
    eventCategory: 'Form input field',
    eventAction: 'blur',
    eventLabel: clickedElement.id  // good to make the id descriptive
  });
}

function handleFormSubmit(event) {
  // this is a bit tricksy, since submitting forms causes the page to unload
  // and stop javascript running.
  // See:
  // https://developers.google.com/analytics/devguides/collection/analyticsjs/sending-hits#knowing_when_the_hit_has_been_sent

  var form = event.target,
      // Keeps track of whether or not the form has been submitted.
      // This prevents the form from being submitted twice in cases
      // where `hitCallback` fires normally.
      formSubmitted = false;

  // Prevents the browser from submitting the form
  // and thus unloading the current page.
  event.preventDefault();

  setTimeout(submitForm, 1000);  // in case the GA hit callback never fires

  function submitForm() {
    if (!formSubmitted) {
      formSubmitted = true;
      console.log("calling form.submit()");
      form.submit();
    }
  }

  ga('send', 'event', {
    eventCategory: 'Sign up form',
    eventAction: 'form_submit',
    eventLabel: form.id,
    hitCallback: function() {
      console.debug("Got GA event hit callback");
      submitForm();
    }
  });

}

ready(setupEventHandlers);

</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-105074981-1', 'auto');
  ga('send', 'pageview');
</script>



<script src="https://code.jquery.com/jquery-1.12.1.min.js" integrity="sha256-I1nTg78tSrZev3kjvfdM5A5Ak/blglGzlaZANLPDl3I=" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="assets/javascript/vendor/jquery-1.12.1.min.js"><\/script>')</script>
<script src="assets/javascript/main.js"></script>

  </body>
</html>
